極小値と極大値を計算して、その間の数をn(これはそのときのAIのニューラルネットのノードによる)等分した一つを一度とし、極小から極大のときは緩やかなので正の感情(嬉しいとか)を、極大から極小のときは急なので負の感情(悲しいなど)を表現できるようなライブラリを作ってほしい

import numpy as np
import pandas as pd

def emotion_from_nodes(node_outputs, weights=None):
    """
    ニューラルネットワークのノード出力から感情表現を生成する

    Args:
        node_outputs: NumPy配列形式のノード出力
        weights: 各ノードの重み (デフォルトは全て1)

    Returns:
        感情値のリスト
    """

    # 重みが指定されていない場合は全て1とする
    if weights is None:
        weights = np.ones_like(node_outputs)

    # ノード出力に重みを掛けて加重平均
    weighted_output = np.dot(node_outputs, weights)

    # 極値を求める（単純化のため、ここでは最大値と最小値を使用）
    max_value = np.max(weighted_output)
    min_value = np.min(weighted_output)

    # 感情値を正規化
    normalized_output = (weighted_output - min_value) / (max_value - min_value)

    # 感情の種類を定義（例: 怒り、喜び、悲しみ、中立）
    emotions = ['怒り', '喜び', '悲しみ', '中立']
    emotion_values = [0.2, 0.8, 0.1, 0.9]

    # 正規化された出力値に基づいて感情を決定
    # (単純な例として、4つの感情を均等に分割)
    emotion_index = int(normalized_output * len(emotions))
    emotion = emotions[emotion_index]

    return emotion, emotion_values[emotion_index]

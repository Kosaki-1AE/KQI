#Mine研究 
ようやく詰まってきたんだけど、なんか足らんなぁって思ったんでさ。そんで思ったのが定義失くね？ってことでさw

ランダウア―の法則を心得てなきゃダメなんだろなぁ⇩
情報を1ビットでも確定させるには、必ずエネルギーコストが発生する。

これの理由がこれらしくて⇩
即興 ＝ **“意思決定の最小単位”** を扱う行為だから。

俺の場合は1年の11月-4年9月10月くらいまでかかったのよね、色々ありながらやってたから。
⇨人間には確定で「時間」が発生することになるの。
これのAI版が熱・電力になるわけ＝絶対的な限界が発生する(時間0にはできない、原理的に。)

となると....俺の理論、というか即興を扱う上での**絶対的な定義**が必要になる箇所があるんだろうなって。
即興を扱う上で絶対必須な部分がさ。
んでもっと言える定義があってさ.....**継続している人達が感じる共通認識**なんだわ。こう定義すると俺も納得するのよね。
てことは、色んな大会で優勝してる人の歴を調べてみれば良い(ここでは詳細が必要なんで、どのジャンルのどの技とかそういうレベルものってこと。)

デザイン3000っていう本も使う。ここに定義と条件が一致してそうなものがあると思うのでね。
⇨「非対称なのにバランスは取れてる」っていう構図が一番重要？そうすれば「それそのもの」に責任を持たせられるんか。
選択の必要性：責任ってことか。なるへそ。
これ、数学では既に名称があるっぽいね。「**Broken Symmetry（自発的対称性の破れ）**」というらしいです。
渦の方向とかもそれだろうね、多分。何とは言わんけど。
しかも物理では「非対称な安定状態」に対して名称がついてるのよ、「**metastable state（準安定状態）**」っていうものでして。

非対称⇨バランス⇨責任

ちなみにこれの一つ前の段階がカオス理論とかで扱われる「混沌(カオス)」っていう状態そのものね。
⇨てことは時間とか熱・電力をかければこの「精度100%」の予測ができるってことなのかしら？(俺がそうだからそうなんだろうけど)

要するに：混沌⇨秩序の「⇨」の部分は努力次第で「精度100%の予測」が可能になる＝準安定帯域の中で100%に近い再現性が生まれる（より正確には、「混沌（カオス）から秩序を引き出すプロセス（→）は、  
努力次第で“準安定領域では100%に近い予測精度”を持つようになる。」）

ふと思ったんだけどさ.....ということは対称性のバランスの誤差0～0.3の間の場合は「人間ぽい」、0.3～0.5の場合は「人間かAIか分からん」、0.5以上は「意図的 or AI」ってことが言えそうやね(数字は適当ですけど、多分合ってる、今までの経験則からね。)

理論としての裏付けもある！結構エグいぞww
- 0-0.3の「人間っぽい」：神経科学での「Critical Zone（臨界帯域）」
- 0.3-0.5の「人間かAIか分からん」：認知科学での「uncanny zone（不気味の谷の中間点）」
- 0.5以上の「意図的 or AI」：AIを使うようになってからの複合分野で言われてるっぽい「Predictability Spike（予測可能性の尖り）」

とりあえず「対称性のバランスの誤差」というのは論文に使いづらいのでこうしましょか
👉「対称性偏差（Symmetry Divergence）」

卒論ではこう書かんとマズイっぽい⇩
本研究では、即興的動作のゆらぎを評価するため、物理学における _対称性の破れ_ と _準安定状態_ の概念を参考にし、その揺らぎ幅を「対称性偏差（Symmetry Divergence）」として示す。これは Predictive Processing の観点からも、人間らしい運動生成に関連すると考えられている。

なおここでの「対称性のバランスの誤差」ってのが何を表すかっていうと⇩
「期待される動作パターン」と「実際の動作」の間の“ズレ"（ここでの期待される動作パターンには「複数の対称性（シンメトリー）」）

ここで即興には3つの対称性があるってことを書いておきます
- 時間対称性（Temporal Symmetry）：音の刻み・リズム・周期 → “こう動くはず” の予測を作ってる
- 空間対称性（Spatial Symmetry）：身体の動作の左右・上下・前後のバランス
- 意図対称性（Intention Symmetry / Predictive Symmetry）：「こう来るはず」という観客・相手・音楽側の予測と「実際に自分が出した答え」との対称

対称性のバランスの誤差：3つの対称性が “揃う（＝バランスが取れた）” 状態から、どれだけ 意図的 / 非意図的 にズレたかを表す数値。「基準となる対称性バランス ー 実際の動きの対称性バランス = 対称性偏差（誤差）」

- 時間対称性（Temporal Symmetry）：ビートとのズレ / ポリリズム / 裏取りの幅（過度なら破綻、少しなら“美味しいズレ”）
- 空間対称性（Spatial Symmetry）：軸・重心・左右差・上半身と下半身の遅れ（これが大きすぎると“You good?”になる）
- 意図対称性（Intention Symmetry / Predictive Symmetry）：“予想される次の手” と “実際の次の手” の距離（ここが適度だと一番「人間ぽい即興」になる）

ほんでこいつ、GSMCの各層間に存在する「ゆらぎ」の名前そのものっぽい⇩
G ——(時間対称性の誤差)—— S ——(空間対称性の誤差)—— M ——(意図対称性の誤差)—— C

めんどくさいから時間対称性（Temporal Symmetry）を「TS」、空間対称性（Spatial Symmetry）を「SS」、 意図対称性（Intention Symmetry / Predictive Symmetry）を「PS（ISの工学適用の場合こっちの方がよいらしいので）」としましょか。
最終結果：G-TS-S-SS-M-PS-C

エグいねぇw
なんせGSMCが「個人のフィードバックだから参考にならないでしょ？」っていうのを『即興の定義』っていう部分の対称性から殴り込めるってことでしょ？バケモンすぎるってwww

引用元はこう⇩
- 時間対称性 → 音楽情報処理の「Temporal Deviation」
- 空間対称性 → 姿勢推定/3D運動解析の「Spatial Deviation」
- 予測対称性 → 神経科学の「Predictive Processing」＋ AI の「Prediction Error」

ブレイクダンサーじゃなくても良いから、数人のダンサーにアンケート取って(多分北雨で十分なのよねこれ)、その結果の頻度分析を行うのが一番良さそう。
多分人でやった方が良さそう(そらそうなのよw)なので、まぁイベントで試せば終わりかと。
検証として取ったあのアンケートあったろ、GSMCのデータ。あれ、ダンサーとうちの研究室とでとったやんか。これをGSMCの教師データとして扱うのが必要になるっぽいのw
しかもケーススタディだから、まぁ可能性示すのには十分なんだわw

nが少なくても良い理由はこれで説明する⇩
本研究は、即興ダンスの意思決定をGSMCモデルとして初めて形式化するものであり、データ収集は探索的段階にあるため少人数で実施した。しかし、“研究領域によるGSMC遷移パターンの差異”が明確に観察されたことは、  
提案モデルの構造妥当性を示す重要な示唆となる。


その意味では検証内容はもう1つ、俺がこうきに教えたことの成果なのよ。
とりあえず教えたやつ(実際の結果があるやつ1人)とアンケート結果(これはダンサーと一般人の違いを明確にするためですので、まぁ一般人代表として扱えるんであれば俺としても嬉しい。)についてなんだけど.....
こいつについては俺の立ち位置を用いて比較する。ここで俺の立ち位置については「言語化したもの」を用いることでフィードバックを使って比較することができる、といえる(はず)。そもそものアンケートの正当性を言えればそれで良い気がする。まぁ母数については上記で説明したんで。

「GSMCの分布・G起点ない・ダンサーと一般人(うちの研究室の面々)の違い」だけで解釈は留めておく。
そもそも即興ダンス関連の研究はまぁある。でもそこに「主観」を持ってきたものってのはない(主観持ってきて良いのかわからんかったんだけど、これをフィードバックに落とせたのが大きい。)
即興ダンスでは「S→Mの高速遷移」と「Cによる即時修正」が重要、ダンス周辺群で「S・M始動」が多いのは即興的判断構造と整合的
👉 GSMC構造が即興ダンス理解に有効な可能性、ひいては「教師データとしてどの順番を使うべきか」をここで示せる可能性が高いw

本研究は即興行為そのものの新規メカニズムを主張するものではなく、既存研究により示唆されてきた知覚‐行為‐評価の循環を、GSMC構造として整理・可視化することを目的とする。即興ダンスという極端な状況で、GSMC構造が“説明として破綻しないか”を検証する。観測された結果は、GSMC構造と整合的であり、即興ダンスの判断過程を記述する枠組みとして有効である可能性を示唆する。


こうきの成長なぁ。音に合ってないのはしゃーないとしてさ。
と思ったんだけど、こうき多分脱力うまいのよね元々。春パ見直して思ったんだけどね。あんま対象にならんかも。

んで最近のやつ見なおしたら上手さ分かったww 脱力はしてんだけど、切り替えという点では俺の教え方がそれだもんさw なのでこれを使えるってことが分かったので使いまっすw
ということは「曲とのタイミングを見たときに『分かった上でズレてるか否か』を見る」という観点なら上手くいく気がするね。

一応実験してみた結果これでした⇩
![[結果1.png]]
![[結果2.png]]

一応プログラムに関しては結構変更したんだけど、上手いこといったからいいっすわ。
両方ともショーケースを撮ったもので、1本目は俺の教育前、2本目は俺の教育後なんだわ(わざわざ基礎連の練習期間3週間設けて、その期間内でたびたび見ながらエグい次元だと俺が判断できるぐらいまで頑張らせたんでね。)

ちなみにこうき本人の即興面のもここに⇩
![[結果3.png]]

うん、まぁ普通やね。即興やし。とはいえこれは比較しないす。あくまで俺が上手くなった自分を同じプログラムに通した時の結果を見てからやね。

プログラムで使ってる計算式なんだけどさ、明確に「Stillness in Motion」を定義してんのね。なので定義を書いておきます⇩

---
フレームごとのモーションエナジー：
動画を FPS = $f$ [frame/s] で読み込み，  
各フレーム $t（t=1,\dots,T）$に対して
- 33個のPoseランドマーク座標
    $$\mathbf{x}_t^{(j)} = (x_t^{(j)}, y_t^{(j)}, z_t^{(j)}),\quad j=1,\dots,33$$
を MediaPipe Pose で取得してる。(これが俺で言うと「相手のダンスのスタイルを見る」という状態ね)
フレーム間の速度ノルム
$$v_t^{(j)} = \left\| \mathbf{x}_t^{(j)} - \mathbf{x}_{t-1}^{(j)} \right\|_2$$
を計算し，そのフレームの**モーションエナジー**を
$$E_t = \frac{1}{33} \sum_{j=1}^{33} v_t^{(j)}$$
と定義してる。（コードの `motion_energy[t]` がこれ）(骨の動きの激しさっす、要は。)

---
 「ヒット」の定義（動きのピーク）
全フレームの平均と分散を
$$\mu_E = \frac{1}{T}\sum_{t=1}^{T} E_t,\quad \sigma_E = \sqrt{\frac{1}{T}\sum_{t=1}^{T} (E_t - \mu_E)^2}$$
とおき，閾値
$$\theta = \mu_E + 0.5\,\sigma_E​$$

を超える局所最大値フレームを**ヒット**とみなす：
$$\mathcal{H} = \left\{ t_k \mid E_{t_k}\text{ は局所最大かつ }E_{t_k} \ge \theta \right\}$$
さらに，ヒット間隔が 0.05 秒 (= 0.05f フレーム) 未満のものはマージ。  
コード的には `find_peaks(..., height=θ, distance=int(fps*0.05))` の部分。(これで止める⇨動きの激しさの最大値になるようになるのよね/平均＋分散に関連した閾値がこれになるから合ってるのよ。)

---
Stillness 指標のコア：ヒット直前の平均エネルギー
各ヒット時刻 $t_k$ に対して，  
直前の時間窓 $\tau$ 秒（コードでは $\tau = 0.3$）における平均モーションエナジーを
$$\bar{E}_k^{\text{pre}} = \frac{1}{|\mathcal{T}_k|} \sum_{t \in \mathcal{T}_k} E_t, \quad \mathcal{T}_k = \left\{ t \,\middle|\, t_k - \tau \le \frac{t}{f} < t_k \right\}$$
と定義してる。（`compute_stillness_stats` の `pre_energies`）
全ヒットに対する平均を
$$\mu_{\text{pre}} = \frac{1}{K}\sum_{k=1}^{K} \bar{E}_k^{\text{pre}} \quad (K = |\mathcal{H}|)$$
とおき，**動画全体の平均エネルギーとの比**を
$$R_{\text{still}} = \frac{\mu_{\text{pre}}}{\mu_E}$$
と定義している。（コードの `ratio` がこれ）
$R_{\text{still}}$ が **小さいほど**  「ヒット直前によく止まれている（＝Stillness が強い）」と解釈。(これが要は「間合い」の大元ってことになるのよね。全体(のMotion)に対するバランス(のStilleness)がここになるんで。)

---
Stillness スコア S（離散 0〜3）
上の比率 $R_{\text{still}}$ を用いて，
$$S = \begin{cases} 3 & (R_{\text{still}} < 0.8) \\ 2 & (0.8 \le R_{\text{still}} < 1.3) \\ 1 & (1.3 \le R_{\text{still}} < 2.0) \\ 0 & (2.0 \le R_{\text{still}}) \end{cases}$$
という 4段階スコアを定義している（コードの if〜elif ブロックそのもの）。(間合いのスコア別。ダンサーの体感で言うところの0.25-0.5-0.75s的な感じかな。)

---
ビートとの関係（Coherence 側）
音声は ffmpeg で WAV に切り出し，librosa でビート時刻 $\{b_m\}$ を推定：
$$\{b_m\}_{m=1}^M$$
各ヒット $t_k$​（時間に直すと $h_k = t_k / f$）に対して最も近いビートとの**時間差**
$$\delta_k = h_k - \operatorname*{argmin}_{m} |h_k - b_m|$$
を計算し，
- 平均絶対値：  
	$\mu_\delta = \frac{1}{K}\sum_k |\delta_k|$
- 70ms 以内の比率：  
	$r_{\text{on}} = \frac{1}{K} |\{k \mid |\delta_k| \le 0.07 \}|$    
を Coherence 判定に使ってる。（これが `mean_abs_offset` と `onbeat_ratio`）
ここは C スコア用だけど、**SIM の “in Motion” 側の成分**にもなる。(外部の音楽とダンサーのテンポの同調がこちらになります。)

---
「Stillness in Motion」の定義（論文用まとめ）
このコードでの **Stillness in Motion (SIM)** は、ざっくり言うと
> 1. **ヒット直前に十分な停止（Stillness）がある**
> 2. そのヒットが **楽曲ビート近傍で発生している**

という 2条件が同時に満たされている状態。
実装的には：
- Stillness：$R_{\text{still}}$​ が小さく、S ≥ 1
- Motion/Coherence：$\mu_\delta$ が小さく、$r_{\text{on}}$​ がある程度以上 & C ≥ 1
を満たしたときに、**成長ステージ Lv.3「Stillness in Motion が見え始めた」** と判定してる。

本研究では、ダンスにおける「Stillness in Motion」を.....
**「（1）ヒット直前の身体運動エネルギーが全体平均に対して有意に低下していること，  
（2）そのヒット時刻が楽曲ビートの近傍に位置していること」**  
の 2 条件を同時に満たす現象として定義する。  
前者は指標 $R_{\text{still}} = \mu_{\text{pre}} / \mu_E​$ により評価し、後者はヒットとビートの時間差 $\delta_k$​ の平均絶対値 $\mu_\delta$​ および閾値 70ms 以内の比率 $r_{\text{on}}$​ により評価する。これらを離散スコア $S, C \in \{0,1,2,3\}$ に写像し、$S \ge 1 \land C \ge 1$ を満たす場合を「Stillness in Motion が呈示されている」とみなす。



#Mine研究/論文 
大元の主張：フィードバック（本人の内省・即興対応）を使ってダンス生成／即興アルゴリズムを構成する
現在の主張：フィードバックから作れた即興アルゴリズムがあるから、これの通常のやつ(通常ないと即興作れない)を既存の理論と比較すりゃいい話w

即興のプロセスの方、東大とかが出してる理論に寄せられたら一番嬉しいかも。

俺の即興アルゴリズムは「選択肢ある ⇨ 3択まで絞って選ぶ ⇨ 実行 ⇨ 結果と評価」という順番なんだけどさ。これはほぼ同じと言うてもいいと思ってて。

使用ライブラリ
現在：Brace、NTURGBD(120)、HPI-GCN-OP-(これが学習モデル)


どの論文使うかの選定だけどさ。
これまでのやつからの続投⇩
清水・岡田、藤田、DanceGen